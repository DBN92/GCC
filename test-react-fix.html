<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste React Fix - Produ√ß√£o</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        iframe { width: 100%; height: 600px; border: 1px solid #ccc; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>üîß Teste da Corre√ß√£o do React em Produ√ß√£o</h1>
    
    <div id="status" class="status info">
        ‚è≥ Testando aplica√ß√£o em produ√ß√£o...
    </div>
    
    <div id="details"></div>
    
    <h2>üì± Preview da Aplica√ß√£o:</h2>
    <iframe id="prodFrame" src="https://gccimonitore.danieltechsolutions.com"></iframe>
    
    <script>
        const statusDiv = document.getElementById('status');
        const detailsDiv = document.getElementById('details');
        const iframe = document.getElementById('prodFrame');
        
        // Teste 1: Verificar se a p√°gina carrega
        setTimeout(() => {
            fetch('https://gccimonitore.danieltechsolutions.com', { mode: 'no-cors' })
                .then(() => {
                    statusDiv.className = 'status success';
                    statusDiv.innerHTML = '‚úÖ Servidor respondendo corretamente';
                    
                    // Teste 2: Verificar se h√° erros no console do iframe
                    iframe.onload = () => {
                        try {
                            // N√£o podemos acessar o console do iframe por CORS, mas podemos verificar se carregou
                            detailsDiv.innerHTML = `
                                <div class="status info">
                                    <h3>üìä Status dos Testes:</h3>
                                    <ul>
                                        <li>‚úÖ Servidor acess√≠vel</li>
                                        <li>‚úÖ P√°gina carregada no iframe</li>
                                        <li>‚úÖ Novo arquivo JS: index-BZElUK29.js</li>
                                        <li>üîß Corre√ß√µes aplicadas: Import React expl√≠cito</li>
                                    </ul>
                                    <p><strong>Resultado:</strong> Se voc√™ consegue ver a aplica√ß√£o funcionando no iframe acima, o erro do React foi corrigido!</p>
                                </div>
                            `;
                        } catch (e) {
                            console.log('CORS esperado:', e);
                        }
                    };
                })
                .catch(err => {
                    statusDiv.className = 'status error';
                    statusDiv.innerHTML = '‚ùå Erro ao acessar servidor: ' + err.message;
                });
        }, 1000);
        
        // Abrir em nova aba para teste direto
        function openInNewTab() {
            window.open('https://gccimonitore.danieltechsolutions.com', '_blank');
        }
        
        // Adicionar bot√£o para abrir em nova aba
        setTimeout(() => {
            detailsDiv.innerHTML += `
                <div style="margin-top: 20px;">
                    <button onclick="openInNewTab()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        üöÄ Abrir Aplica√ß√£o em Nova Aba
                    </button>
                </div>
            `;
        }, 2000);
    </script>
</body>
</html>